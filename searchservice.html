<!DOCTYPE html>
<html>
	<head>
		<title>SearchService - Infusionsoft API</title>
		<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="bootstrap/css/bootstrap-extension.css">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
		<script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
		<link href="google-code-prettify/src/prettify.css" type="text/css" rel="stylesheet">
		<script type="text/javascript" src="google-code-prettify/src/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
		<div class="container">
			<div class="row">
				<div class="span12" style="margin-top:40px;">
				</div>
			</div>
			<div class="row">
				<div class="span2 sidebar">
					<div class="well">
						<h4>Sidebar</h4>
						<ul>
							<li>Link 1</li>
							<li>Link 2</li>
							<li>Link 3</li>
							<li>Link 4</li>
						</ul>
					</div>
				</div>
				<div class="span10">
					<h1>SearchService API</h1>
					<p>The SearchService allows you to retrieve the results of saved searches and reports that have been saved within Infusionsoft. Saved searches/reports are tied to the User that created them. This service also allows you to utilize the quick search function found in the upper right hand corner of your Infusionsoft application.</p>
					<p>Note** that in order to retrieve the Id number for saved searches you will need to utilize the DataService.query method and query the table called SavedFilter based on the UserId you are looking for the saved search Id for. Also note that UserId field on the SavedFilter table can contain multiple userId’s separated by a comma, so if you are querying for a report created by userId 6, I recommend appending the wildcard to the end of the userId. Something like $query = array( ‘UserId’ => ’6%’ );</p>
					
					<hr>
					
					<div class="full_method">
						<span class="collection">SearchService.</span><span class="method">getAllReportColumns</span>
					</div>
					<p>Gets all possible fields/columns available for return on a saved search/report</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>savedSearchId</td>
								<td>int</td>
								<td>Id of the saved search you would like columns for</td>
							</tr>
							<tr>
								<td>userId</td>
								<td>int</td>
								<td>the Id number of the user who created the saved search</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>(struct) An array of fields available for returns when using the SearchService.getSavedSearchResults method</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;methodCall&gt;
&lt;methodName&gt;SearchService.getAllReportColumns&lt;/methodName&gt;
&lt;params&gt;
&lt;param&gt;
&lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;savedSearchId&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;userId&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
					
					</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$savedSearchId = 3;
$userId = 1;
$results = $myApp->getAvailableFields($savedSearchId, $userId);</pre>

					<hr>
					
					<div class="full_method">
						<span class="collection">SearchService.</span><span class="method">getSavedSearchResultsAllFields</span>
					</div>
					<p>Runs a saved search/report and returns all possible fields</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>savedSearchId</td>
								<td>int</td>
								<td>the Id number of the saved search being run</td>
							</tr>
							<tr>
								<td>userId</td>
								<td>int</td>
								<td>the userId who the saved search is assigned to. If it is 'Everyone', you still need to pass a valid userId</td>
							</tr>
							<tr>
								<td>pageNumber</td>
								<td>int</td>
								<td>the page you would like results from. Zero is the first page</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>(struct) results of the given saved search</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;methodCall&gt;
&lt;methodName&gt;SearchService.getSavedSearchResultsAllFields&lt;/methodName&gt;
&lt;params&gt;
&lt;param&gt;
&lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;savedSearchId&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;userId&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;pageNumber&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
					
					</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$savedSearchId = 5;
$userId = 34;
$results = $myApp->savedSearchAllFields($savedSearchId, $userId, 0);</pre>
					
					
					<hr>
					
					<div class="full_method">
						<span class="collection">SearchService.</span><span class="method">getAvailableQuickSearches</span>
					</div>
					<p>This is used to find what possible quick searches the given user has access to</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>userId</td>
								<td>int</td>
								<td>the userId you are checking access for</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>(struct) The quick search types available for the given user</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
					
					</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
					
					</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$userId = 6;
$result = $MyApp->getQuickSearches($userId);</pre>

					
					<hr>
					
					<div class="full_method">
						<span class="collection">SearchService.</span><span class="method">quickSearch</span>
					</div>
					<p>This allows you to run a quick search via the API. The quick search is the search bar in the upper right hand corner of the Infusionsoft application</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>quickSearchType</td>
								<td>int</td>
								<td>the type of search you are running. Person, Order, Opportunity, Company, Task, Subscription, or Affiliate</td>
							</tr>
							<tr>
								<td>userId</td>
								<td>int</td>
								<td>Id number of the user running this search. Results are dependent on this users' permissions</td>
							</tr>
							<tr>
								<td>searchData</td>
								<td>int</td>
								<td>string to run the search based on</td>
							</tr>
							<tr>
								<td>page</td>
								<td>int</td>
								<td>page of results you would like returned</td>
							</tr>
							<tr>
								<td>returnLimit</td>
								<td>int</td>
								<td>number of results returned. Max is 1000</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>(struct) An array of all results returned from this quick search</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;methodCall&gt;
&lt;methodName&gt;SearchService.quickSearch&lt;/methodName&gt;
&lt;params&gt;
&lt;param&gt;
&lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;string&gt;quickSearchType&lt;/string&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;userId&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;string&gt;searchData&lt;/string&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;page&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;limit&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;/params&gt;
&lt;/methodCall&gt;
					</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;
        &lt;array&gt;
          &lt;data/&gt;
        &lt;/array&gt;
      &lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;
					</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$userId = 1;
$searchData = 'in';
$results = $myApp->quickSearch('FindPerson', $userId, $searchData, 0, 1000);</pre>


					<hr>
					
					<div class="full_method">
						<span class="collection">SearchService.</span><span class="method">getDefaultQuickSearch</span>
					</div>
					<p>Retrieves the quick search type that the given users has set as their default</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>(string) The quick search type that the given user has selected as their default</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;methodCall&gt;
&lt;methodName&gt;SearchService.getDefaultQuickSearch&lt;/methodName&gt;
&lt;params&gt;
&lt;param&gt;
&lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;param&gt;
&lt;value&gt;&lt;int&gt;userId&lt;/int&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;/params&gt;
&lt;/methodCall&gt;
					</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;
        null
      &lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;
					</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$userId = 1;
$results= $myApp->getDefaultQuickSearch($userId);</pre>


				</div>
			</div>
		</div>
	</body>
</html>