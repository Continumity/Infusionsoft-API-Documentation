<!DOCTYPE html>
<html>
	<head>
		<title>AffiliateService - Infusionsoft API</title>
		<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
		<link rel="stylesheet" href="bootstrap/css/bootstrap-extension.css"/>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
		<script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
		<link href="google-code-prettify/src/prettify.css" type="text/css" rel="stylesheet"/>
		<script type="text/javascript" src="google-code-prettify/src/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
		<div class="container">
		<img src="bootstrap/img/logo.png"><hr>
			<div class="row">
				<div class="span12" style="margin-top:40px;">
				</div>
			</div>
			<div class="row">
				<div class="span3 sidebar">
					<div class="well" style="padding: 8px 0;">
						<ul class="nav nav-list">
							<li class="nav-header">Overview</li>
							<li><a href="index.html">Introduction</a></li>
							<li><a href="request.html">Requests</a></li>
							<li><a href="response.html">Responses</a></li>
							<li><a href="error.html">Errors</a></li>
							<li><a href="api_console.html">API Console</a></li><li><a href="changelog.html">Changelog</a></li>
							<li class="nav-header">Services</li>
							<li class="nav-header active"><a href="affiliateservice.html">AffiliateService</a></li>
							<li><a href="#affCrawlbacks">affCrawlbacks</a></li>
							<li><a href="#affCommissions">affCommissions</a></li>
							<li><a href="#affPayouts">affPayouts</a></li>
							<li><a href="#affRunningTotals">affRunningTotals</a></li>
							<li><a href="#affSummary">affSummary</a></li>
							<li class="divider"></li>
							<li><a href="contactservice.html">ContactService</a></li>
							<li><a href="dataservice.html">DataService</a></li>
							<li><a href="discountservice.html">DiscountService</a></li>
							<li><a href="emailservice.html">EmailService</a></li>
							<li><a href="fileservice.html">FileService</a></li>
							<li><a href="invoiceservice.html">InvoiceService</a></li>
							<li><a href="productservice.html">ProductService</a></li>
							<li><a href="searchservice.html">SearchService</a></li>
							<li><a href="shippingservice.html">ShippingService</a></li>
							<li><a href="webformservice.html">WebFormService</a></li>
						</ul>
					</div>
				</div>
				<div class="span9">
					<h1>AffiliateService API</h1>

					<p>APIAffiliateService is used to pull commission data and activities for affiliates. With this service, you have access to Clawbacks, Commissions, Payouts, Running Totals, and the Activity Summary. The methods in the APIAffiliateService mirror the reports produced inside Infusionsoft.

To manage affiliate information (ie Name, Phone, etc.) you will need to use the DataService.</p>
					
					<hr>
					
					<div class="full_method">
						<span class="collection">AffiliateService.</span><span class="method"><a name="affClawbacks">affClawbacks</a></span>
					</div>
					
					<p>The affClawbacks method is used when you need to retrieve all clawed back commissions for a particular affiliate. Claw backs typically occur when an order has been refunded to the customer</p>
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>affiliateId</td>
								<td>int</td>
								<td>The Id number for the affiliate record you would like the claw backs for</td>
							</tr>
							<tr>
								<td>filterStartDate</td>
								<td>dateTime</td>
								<td>The starting date for the date range which you would like affiliate claw backs for</td>
							</tr>
							<tr>
								<td>filterEndDate</td>
								<td>dateTime</td>
								<td>The ending date for the date range which you would like the affiliate claw backs for</td>
							</tr>
						</tbody>
					</table>
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIAffiliateService.affClawbacks&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;int&gt;affiliateId&lt;/int&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;startDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;endDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;array&gt;&lt;data/&gt;&lt;/array&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
										<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$affiliateId = 123;
$start = date('Ymd\TH:i:s',mktime(00,00,00,09,01,2008));
$finish = date('Ymd\TH:i:s',mktime(00,00,00,09,30,2008));
$claws = $app->affClawbacks($affiliateId, $start, $finish);</pre>

					<hr>
					
					<div class="full_method">
						<span class="collection">AffiliateService.</span><span class="method"><a name="affCommissions">affCommissions</a></span>
					</div>
					
					<p>This method is used to retrieve all commissions for a specific affiliate within a date range</p>
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>affiliateId</td>
								<td>int</td>
								<td>The Id number for the affiliate record you would like the claw backs for</td>
							</tr>
							<tr>
								<td>filterStartDate</td>
								<td>dateTime</td>
								<td>The starting date for the date range which you would like affiliate commissions for</td>
							</tr>
							<tr>
								<td>filterEndDate</td>
								<td>dateTime</td>
								<td>The ending date for the date range which you would like the affiliate commissions  for</td>
							</tr>
						</tbody>
					</table>
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIAffiliateService.affCommissions&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;int&gt;affiliateId&lt;/int&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;startDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;endDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;array&gt;&lt;data/&gt;&lt;/array&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$affiliateId = 123;
$start = date('Ymd\TH:i:s',mktime(00,00,00,09,01,2008));
$finish = date('Ymd\TH:i:s',mktime(00,00,00,09,30,2008));
$comms = $app->affCommissions($affiliateId, $start, $finish);</pre>
					<hr>
					
<div class="full_method">
	<span class="collection">AffiliateService.</span><span class="method"><a name="affPayouts">affPayouts</a></span>
</div>

<p>This method is used to retrieve all payments for a specific affiliate within a date range</p>
<h3>Required Parameters</h3>
<table class="table table-bordered table-striped">
	<thead>
		<th>Parameter Name</th>
		<th>Type</th>
		<th>Definition</th>
	</thead>
	<tbody>
		<tr>
			<td>privateKey</td>
			<td>string</td>
			<td>Your Infusionsoft API key</td>
		</tr>
		<tr>
			<td>affiliateId</td>
			<td>int</td>
			<td>The Id number for the affiliate record you would like the claw backs for</td>
		</tr>
		<tr>
			<td>filterStartDate</td>
			<td>dateTime</td>
			<td>The starting date for the date range which you would like affiliate payments for</td>
		</tr>
		<tr>
			<td>filterEndDate</td>
			<td>dateTime</td>
			<td>The ending date for the date range which you would like the affiliate payments for</td>
		</tr>
	</tbody>
</table>
<h3>Sample Request</h3>
<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIAffiliateService.affPayouts&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;int&gt;affiliateId&lt;/int&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;startDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;endDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

<h3>Sample Response</h3>
<pre class="prettyprint">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;array&gt;&lt;data/&gt;&lt;/array&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>

<h3>PHP iSDK Sample</h3>
<pre class="prettyprint">$affiliateId = 123;
$start = date('Ymd\TH:i:s',mktime(00,00,00,09,01,2008));
$finish = date('Ymd\TH:i:s',mktime(00,00,00,09,30,2008));
$pays = $app->affPayouts($affiliateId, $start, $finish);</pre>
<hr>

<div class="full_method">
	<span class="collection">AffiliateService.</span><span class="method"><a name="affRunningTotals">affRunningTotals</a></span>
</div>

<p>The affRunningTotals method is used to retrieve the current balances for Amount Earned, Clawbacks, and Running Balance.</p>
<h3>Required Parameters</h3>
<table class="table table-bordered table-striped">
	<thead>
		<th>Parameter Name</th>
		<th>Type</th>
		<th>Definition</th>
	</thead>
	<tbody>
		<tr>
			<td>privateKey</td>
			<td>string</td>
			<td>Your Infusionsoft API key</td>
		</tr>
		<tr>
			<td>affiliateIds</td>
			<td>array</td>
			<td>An integer array of the affiliate Id numbers that you would like the balances for</td>
		</tr>
	</tbody>
</table>
<h3>Sample Request</h3>
<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIAffiliateService.affRunningTotals&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;array&gt;
        &lt;data&gt;
          &lt;value&gt;&lt;int&gt;affList1&lt;/int&gt;&lt;/value&gt;
          &lt;value&gt;&lt;int&gt;affList2&lt;/int&gt;&lt;/value&gt;
          &lt;value&gt;&lt;int&gt;affList3&lt;/int&gt;&lt;/value&gt;
        &lt;/data&gt;
      &lt;/array&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

<h3>Sample Response</h3>
<pre class="prettyprint">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;
        &lt;array&gt;
          &lt;data&gt;
            &lt;value&gt;
              &lt;struct&gt;
                &lt;member&gt;
                  &lt;name&gt;Clawbacks&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AmountEarned&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.5483&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;Payments&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;RunningBalance&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.5483&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AffiliateId&lt;/name&gt;
                  &lt;value&gt;&lt;i4&gt;2&lt;/i4&gt;&lt;/value&gt;
                &lt;/member&gt;
              &lt;/struct&gt;
            &lt;/value&gt;
            &lt;value&gt;
              &lt;struct&gt;
                &lt;member&gt;
                  &lt;name&gt;Clawbacks&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AmountEarned&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;Payments&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;RunningBalance&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;=0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AffiliateId&lt;/name&gt;
                  &lt;value&gt;&lt;i4&gt;4&lt;/i4&gt;&lt;/value&gt;
                &lt;/member&gt;
              &lt;/struct&gt;
            &lt;/value&gt;
            &lt;value&gt;
              &lt;struct&gt;
                &lt;member&gt;
                  &lt;name&gt;Clawbacks&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AmountEarned&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;Payments&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;RunningBalance&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AffiliateId&lt;/name&gt;
                  &lt;value&gt;&lt;i4&gt;6&lt;/i4&gt;&lt;/value&gt;
                &lt;/member&gt;
              &lt;/struct&gt;
            &lt;/value&gt;
          &lt;/data&gt;
        &lt;/array&gt;
      &lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>

<h3>PHP iSDK Sample</h3>
<pre class="prettyprint">$affiliateIds = array(123,456,789);
$totals = $app->affPayouts($affiliateIds);</pre>
<hr>

<div class="full_method">
	<span class="collection">AffiliateService.</span><span class="method"><a name="affSummary">affSummary</a></span>
</div>

<p>The affSummary method is used to retrieve a summary of statistics for a list of affiliates</p>
<h3>Required Parameters</h3>
<table class="table table-bordered table-striped">
	<thead>
		<th>Parameter Name</th>
		<th>Type</th>
		<th>Definition</th>
	</thead>
	<tbody>
		<tr>
			<td>privateKey</td>
			<td>string</td>
			<td>Your Infusionsoft API key</td>
		</tr>
		<tr>
			<td>affiliateId</td>
			<td>int</td>
			<td>An array of Affiliate Id numbers you would like stats for</td>
		</tr>
		<tr>
			<td>filterStartDate</td>
			<td>dateTime</td>
			<td>The starting date for the date range which you would like affiliate stats for</td>
		</tr>
		<tr>
			<td>filterEndDate</td>
			<td>dateTime</td>
			<td>The ending date for the date range which you would like the affiliate stats for</td>
		</tr>
	</tbody>
</table>
<h3>Sample Request</h3>
<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIAffiliateService.affSummary&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;array&gt;
        &lt;data&gt;
          &lt;value&gt;&lt;int&gt;affList1&lt;/int&gt;&lt;/value&gt;
          &lt;value&gt;&lt;int&gt;affList2&lt;/int&gt;&lt;/value&gt;
          &lt;value&gt;&lt;int&gt;affList3&lt;/int&gt;&lt;/value&gt;
        &lt;/data&gt;
      &lt;/array&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;startDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;dateTime.iso8601&gt;endDate&lt;/dateTime.iso8601&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

<h3>Sample Response</h3>
<pre class="prettyprint">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;
        &lt;array&gt;
          &lt;data&gt;
            &lt;value&gt;
              &lt;struct&gt;
                &lt;member&gt;
                  &lt;name&gt;Clawbacks&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AmountEarned&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;Balance&lt;/name&gt;
                  &lt;value&gt;
                    &lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AffiliateId&lt;/name&gt;
                  &lt;value&gt;&lt;i4&gt;2&lt;/i4&gt;&lt;/value&gt;
                &lt;/member&gt;
              &lt;/struct&gt;
            &lt;/value&gt;
            &lt;value&gt;
              &lt;struct&gt;
                &lt;member&gt;
                  &lt;name&gt;Clawbacks&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AmountEarned&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;Balance&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AffiliateId&lt;/name&gt;
                  &lt;value&gt;&lt;i4&gt;4&lt;/i4&gt;&lt;/value&gt;
                &lt;/member&gt;
              &lt;/struct&gt;
            &lt;/value&gt;
            &lt;value&gt;
              &lt;struct&gt;
                &lt;member&gt;
                  &lt;name&gt;Clawbacks&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AmountEarned&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;Balance&lt;/name&gt;
                  &lt;value&gt;&lt;double&gt;0.0&lt;/double&gt;&lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;AffiliateId&lt;/name&gt;
                  &lt;value&gt;&lt;i4&gt;6&lt;/i4&gt;&lt;/value&gt;
                &lt;/member&gt;
              &lt;/struct&gt;
            &lt;/value&gt;
          &lt;/data&gt;
        &lt;/array&gt;
      &lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>

<h3>PHP iSDK Sample</h3>
<pre class="prettyprint">$affiliateIds = array(123,456,789);
$start = date('Ymd\TH:i:s',mktime(00,00,00,09,01,2008));
$finish = date('Ymd\TH:i:s',mktime(00,00,00,09,30,2008));
$pays = $app->affSummary($affiliateIds, $start, $finish);</pre>
<hr>
				</div>
			</div>
		</div>
	</body>
</html>