<!DOCTYPE html>
<html>
	<head>
		<title>EmailService - Infusionsoft API</title>
		<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="bootstrap/css/bootstrap-extension.css">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
		<script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
		<link href="google-code-prettify/src/prettify.css" type="text/css" rel="stylesheet">
		<script type="text/javascript" src="google-code-prettify/src/prettify.js"></script>
	</head>
	<body onload="prettyPrint()">
		<div class="container">
		<img src="bootstrap/img/logo.png"><hr>
			<div class="row">
				<div class="span12" style="margin-top:40px;">
				</div>
			</div>
			<div class="row">
				<div class="span3 sidebar">
					<div class="well" style="padding: 8px 0;">
						<ul class="nav nav-list">
							<li class="nav-header">Overview</li>
							<li><a href="index.html">Introduction</a></li>
							<li><a href="request.html">Requests</a></li>
							<li><a href="response.html">Responses</a></li>
							<li><a href="error.html">Errors</a></li>
							<li><a href="api_console.html">API Console</a></li><li><a href="changelog.html">Changelog</a></li>
							<li class="nav-header">Services</li>
							<li><a href="affiliateservice.html">AffiliateService</a></li>
							<li><a href="contactservice.html">ContactService</a></li>
							<li><a href="dataservice.html">DataService</a></li>
							<li><a href="discountservice.html">DiscountService</a></li>
							<li class="nav-header active"><a href="emailservice.html">EmailService</a></li>
							<li><a href="#addEmailTemplate">addEmailTemplate</a></li>
							<li><a href="#attachEmail">attachEmail</a></li>
							<li><a href="#getEmailTemplate">getEmailTemplate</a></li>
							<li><a href="#getOptStatus">getOptStatus</a></li>
							<li><a href="#optIn">optIn</a></li>
							<li><a href="#optOut">optOut</a></li>
							<li><a href="#sendEmail">sendEmail</a></li>
							<li><a href="#sendTemplate">sendTemplate</a></li>
							<li class="divider"></li>
							<li><a href="fileservice.html">FileService</a></li>
							<li><a href="invoiceservice.html">InvoiceService</a></li>
							<li><a href="productservice.html">ProductService</a></li>
							<li><a href="searchservice.html">SearchService</a></li>
							<li><a href="shippingservice.html">ShippingService</a></li>
							<li><a href="webformservice.html">WebFormService</a></li>
						</ul>
					</div>
				</div>
				<div class="span9">
					<h1>EmailService API</h1>
					<p>APIEmailService allows you to email your contacts as well as attaching emails sent elsewhere (this lets you send email from multiple services and still see all communications inside of Infusionsoft).</p>
					
					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="addEmailTemplate">addEmailTemplate</a></span>
					</div>
					<p>Create a new email template that can be used for future emails</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>pieceTitle</td>
								<td>string</td>
								<td>The name of the template. This will be displayed within the Infusionsoft template library</td>
							</tr>
							<tr>
								<td>categories</td>
								<td>string</td>
								<td>The category of templates you would like this template saved in fromAddress - The from email address this template sends as. Format: "FirstName LastName <email@domain.com>"</td>
							</tr>
							<tr>
								<td>toAddress</td>
								<td>string</td>
								<td>The email address this template sends to. Typically this will be "~Contact.Email~"</td>
							</tr>
							<tr>
								<td>ccAddress</td>
								<td>string</td>
								<td>Any email addresses you would like to CC when this template is sent</td>
							</tr>
							<tr>
								<td>bccAddress</td>
								<td>string</td>
								<td>Any email address you would like to BCC when this template is sent</td>
							</tr>
							<tr>
								<td>subject</td>
								<td>string</td>
								<td>The subject line for this email template</td>
							</tr>
							<tr>
								<td>textBody</td>
								<td>string</td>
								<td>The content you would like sent in the body of the plain text version of this email template</td>
							</tr>
							<tr>
								<td>htmlBody</td>
								<td>string</td>
								<td>The HTML that makes up the body of this template. If you only send plain text emails</td>
							</tr>
							<tr>
								<td>contentType</td>
								<td>string</td>
								<td>HTML, Text, or Multipart</td>
							</tr>
							<tr>
								<td>mergeContext</td>
								<td>string</td>
								<td>Contact, Opportunity, Invoice, or CreditCard</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: (int) templateId of the created email template</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIEmailService.addEmailTemplate&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;title&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;categories&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;fromAddress&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;toAddress~Contact.Email~&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;ccAddresses&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;bccAddresses&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;subject&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;textBody&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;htmlBody&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;contentType&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;mergeContext&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;i4&gt;3378&lt;/i4&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$title = "template API test";
$category = "API Category";
$fromAddress = "from@infusionsoft.com";
$toAddress = "~Contact.Email~";
$ccAddress = "";
$bccAddresses = "";
$subject = "My Fancy Subject Line";
$textBody = "This is the text email body";
$htmlBody = "HTML"
$contentType = "Contact";
$mergeContext = "";
$tmpId = $app->addEmailTemplate($title, $category, $fromAddress, $toAddress, $ccAddress, $bccAddresses, $subject, $textBody, $htmlBody, $contentType, $mergeContext);</pre>


					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="attachEmail">attachEmail</a></span>
					</div>
					<p>This will create an item in the email history for a contact. This does not actually send the email, it only places an item into the email history. Using the API to instruct Infusionsoft to send an email will handle this automatically.</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>contactId</td>
								<td>int</td>
								<td>The Id of the contact you would like to add this email history to</td>
							</tr>
							<tr>
								<td>fromName</td>
								<td>string</td>
								<td>The name portion of the from address. I.E. FirstName LastName, not the email@domain.com portion</td>
							</tr>
							<tr>
								<td>fromAddress</td>
								<td>string</td>
								<td>The email address the email was sent from</td>
							</tr>
							<tr>
								<td>toAddress</td>
								<td>string</td>
								<td>The email address the email was sent to</td>
							</tr>
							<tr>
								<td>ccAddresses</td>
								<td>string</td>
								<td>Any email address that was CC'd</td>
							</tr>
							<tr>
								<td>bccAddresses</td>
								<td>string</td>
								<td>Any email address that was BCC'd</td>
							</tr>
							<tr>
								<td>contentType</td>
								<td>string</td>
								<td>What type of email this was. Text, HTML, or Multipart (case sensitive)</td>
							</tr>
							<tr>
								<td>subject</td>
								<td>string</td>
								<td>The subject line</td>
							</tr>
							<tr>
								<td>htmlBody</td>
								<td>string</td>
								<td>The html from the body of the email</td>
							</tr>
							<tr>
								<td>textBody</td>
								<td>string</td>
								<td>The plain text body of the email</td>
							</tr>
							<tr>
								<td>header</td>
								<td>string</td>
								<td>The email header information</td>
							</tr>
							<tr>
								<td>receivedDate</td>
								<td>string</td>
								<td>The date this email was received. This determines where this displays in comparison to other emails</td>
							</tr>
							<tr>
								<td>sentDate</td>
								<td>string</td>
								<td>The date this email was sent</td>
							</tr>
							<tr>
								<td>emailSentType</td>
								<td>int</td>
								<td>A boolean int, 1 is used for marking the email as sent inside the contact history and 0 is used for marking the email as received</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: (boolean) True/False</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIEmailService.attachEmail&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;int&gt;contactId&lt;/int&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;fromName&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;fromAddress&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;toAddress&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;ccAddress&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;bccAddress&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;contentType&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;subject&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;htmlBody&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;textBody&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;header&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;receivedDate&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;sentDate&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;int&gt;emailSentType(Set To 1)&lt;/int&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;boolean&gt;1&lt;/boolean&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$contactId = 123;
$fromName = "John Doe";
$fromAddress = "JDoe@test.com";
$toAddress = "Tester@test.com";
$ccAddress = "cc@test.com";
$bccAddress = "bcc$test.com";
$contentType = "TEXT";
$subject = "test subject";
$htmlBody = "html here";
$textBody = "Test Body Can Be Anything";
$header = "Email header";
$receiveDate = "";
$sentDate = "";
$emailSentType = 1;
$status = $app->attachEmail($contactId, $fromName, $fromAddress, $toAddress, $ccAddress, $bccAddress, $contentType, $subject, $htmlBody, $textBody, $header, $receiveDate, $sentDate, $emailSentType);</pre>		


					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="getAvailableMergeFields">getAvailableMergeFields</a></span>
					</div>
					<p>This retrieves all possible merge fields for the context provided</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>mergeContext</td>
								<td>string</td>
								<td>Contact, Opportunity, Invoice, or CreditCard</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: (array) the available merge fields for the given context</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint"></pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint"></pre>
	
					<h3>PHP iSDK Sample</h3>
					<p>This method is not currently built into the iSDK</p>
					
					
					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="getEmailTemplate">getEmailTemplate</a></span>
					</div>
					<p>Retrieves the details for a particular email template</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>templateId</td>
								<td>int</td>
								<td>The Id number for the template you wish to retrieve details about</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Returns: (array) all data for a particular email template<br>
					Example:<br>
					Struct( <br>
					[pieceTitle] => Example<br>
					[categories] => Email<br>
					[fromAddress] => example@example.com<br>
					[toAddress] => ~Contact.Email~<br>
					[ccAddress] =><br>
					[bccAddress] =><br>
					[subject] => Example Subject<br>
					[textBody] => Some example body<br>
					[htmlBody] => Some HTML here<br>
					[contentType] => HTML<br>
					[mergeContext] => Contact<br>
					)</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIEmailService.getEmailTemplate&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;int&gt;templateId&lt;/int&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;
        &lt;struct&gt;
          &lt;member&gt;
            &lt;name&gt;pieceTitle&lt;/name&gt;
            &lt;value&gt;template API Test&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;categories&lt;/name&gt;
            &lt;value&gt;API Category&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;fromAddress&lt;/name&gt;
            &lt;value&gt;from@infusionsoft.com&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;toAddress&lt;/name&gt;
            &lt;value&gt;~Contact.Email~&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;ccAddress&lt;/name&gt;
            &lt;value/&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;bccAddress&lt;/name&gt;
            &lt;value/&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;subject&lt;/name&gt;
            &lt;value&gt;My Fancy Subject Line&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;textBody&lt;/name&gt;
            &lt;value&gt;This is the text email body&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;htmlBody&lt;/name&gt;
            &lt;value&gt;This is html body&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;contentType&lt;/name&gt;
            &lt;value&gt;HTML&lt;/value&gt;
          &lt;/member&gt;
          &lt;member&gt;
            &lt;name&gt;mergeContext&lt;/name&gt;
            &lt;value&gt;Contact&lt;/value&gt;
          &lt;/member&gt;
        &lt;/struct&gt;
      &lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$tmp = $app->getEmailTemplate(42);</pre>
					

					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="getOptStatus">getOptStatus</a></span>
					</div>
					<p></p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>email</td>
								<td>string</td>
								<td>The email address you wish to retrieve the status of</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: (int) 0 = opt out/non-marketable/soft bounce/hard bounce, 1 = single opt on, 2 = double opt in</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIEmailService.getOptStatus&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;email&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;i4&gt;0&lt;/i4&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$result = $app->optStatus('test@example.com');</pre>
					
					
					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="optIn">optIn</a></span>
					</div>
					<p>This method opts-in an email address. This method only works the first time an email address opts-in</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>email</td>
								<td>string</td>
								<td>The email address to opt-in</td>
							</tr>
							<tr>
								<td>optInReason</td>
								<td>string</td>
								<td>This is how you can note why/how this email was opted-in. *If a blank optInReason is passed the system will default a reason of "API Opt In"</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: (boolean) True/False</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
&lt;methodName&gt;APIEmailService.optIn&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;email&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;reason&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;boolean&gt;0&lt;/boolean&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$result = $app->optIn($subscriberEmail,"Home page newsletter subscriber");</pre>
					
					
					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="optOut">optOut</a></span>
					</div>
					<p>Opts-out an email address. Note that once an address is opt-out, the API cannot opt it back in</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>email</td>
								<td>string</td>
								<td>The email address to opt-out</td>
							</tr>
							<tr>
								<td>optOutreason</td>
								<td>string</td>
								<td>Reason the address is being opt-out</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: (boolean) True/False</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
&lt;methodName&gt;APIEmailService.optOut&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;email&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;reason&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;boolean&gt;0&lt;/boolean&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$result = $app->optOut($subscriberEmail,"Opted out from our website");</pre>
					
					
					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="sendEmail">sendEmail</a></span>
					</div>
					<p>This will send an email to a list of contacts, as well as record the email in the contacts' email history</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>contactList</td>
								<td>string</td>
								<td>An integer array of Contact Id numbers you would like to send this email to</td>
							</tr>
							<tr>
								<td>fromAddress</td>
								<td>string</td>
								<td>The email address this template will be sent from</td>
							</tr>
							<tr>
								<td>toAddress</td>
								<td>string</td>
								<td>The email address this template will send to. This is typically the merge field "~Contact.Email~"</td>
							</tr>
							<tr>
								<td>ccAddresses</td>
								<td>string</td>
								<td>The email address(es) this template will carbon copy. Multiples separated by comma</td>
							</tr>
							<tr>
								<td>bccAddresses</td>
								<td>string</td>
								<td>the email address(es) this template will blind carbon copy. Multiples separated by comma</td>
							</tr>
							<tr>
								<td>contentType</td>
								<td>string</td>
								<td>HTML, Text, or Multipart (this is case sensitive)</td>
							</tr>
							<tr>
								<td>subject</td>
								<td>string</td>
								<td>The subject line of this email</td>
							</tr>
							<tr>
								<td>htmlBody</td>
								<td>string</td>
								<td>The HTML content the body of this email is comprised of</td>
							</tr>
							<tr>
								<td>textBody</td>
								<td>string</td>
								<td>The content of the plain text body of this template</td>
							</tr>
							<tr>
								<td>templateId</td>
								<td>string</td>
								<td>The Id number of the template you would like to send</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: True if the email has been sent, an error will be sent back otherwise!</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
&lt;methodName&gt;APIEmailService.sendEmail&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;array&gt;
        &lt;data&gt;
          &lt;value&gt;&lt;int&gt;contactList1&lt;/int&gt;&lt;/value&gt;
          &lt;value&gt;&lt;int&gt;contactList2&lt;/int&gt;&lt;/value&gt;
          &lt;value&gt;&lt;int&gt;contactList3&lt;/int&gt;&lt;/value&gt;
        &lt;/data&gt;
      &lt;/array&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;fromAddress&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;toAddress&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;ccAddresses&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;bccAddresses&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;contentType&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;subject&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;htmlBody&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;textBody&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodCall&gt;</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
&lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;boolean&gt;1&lt;/boolean&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$clist = array(123,456,789); $status = $app->sendEmail($clist,"Test@test.com","~Contact.Email~", "","","Text","Test Subject","","This is the body");</pre>
					
					
					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="sendTemplate">sendTemplate</a></span>
					</div>
					<p>This will send an email to a list of contacts, as well as record the email in the contacts' email history</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>contactList</td>
								<td>array</td>
								<td>An integer array of Contact Id numbers you would like to send this email to</td>
							</tr>
							<tr>
								<td>templateId</td>
								<td>string</td>
								<td>The Id of of template to send</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: True if the email has been sent, an error will be sent back otherwise!</p>
					
					<h3>Sample Request</h3>
<pre class="prettyprint">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodCall&gt;
  &lt;methodName&gt;APIEmailService.sendEmail&lt;/methodName&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;string&gt;privateKey&lt;/string&gt;&lt;/value&gt;
    &lt;/param&gt;
    &lt;param&gt;
      &lt;value&gt;&lt;array&gt;
      &lt;data&gt;
        &lt;value&gt;&lt;int&gt;12&lt;/int&gt;&lt;/value&gt;
        &lt;value&gt;&lt;int&gt;16&lt;/int&gt;&lt;/value&gt;
        &lt;value&gt;&lt;int&gt;22&lt;/int&gt;&lt;/value&gt;
      &lt;/data&gt;
      &lt;/array&gt;&lt;/value&gt;
    &lt;/param&gt;
  &lt;param&gt;
    &lt;value&gt;&lt;int&gt;3380&lt;/int&gt;&lt;/value&gt;
  &lt;/param&gt;
&lt;/params&gt;
&lt;/methodCall&gt;
</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;
        &lt;boolean&gt;
          1
        &lt;/boolean&gt;
      &lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;</pre>
	
					<h3>PHP iSDK Sample</h3>
					<pre class="prettyprint">$app->sendTemplate(array(12,16,22), 3380);</pre>
					
					
					<hr>
					
					<div class="full_method">
						<span class="collection">EmailService.</span><span class="method"><a name="updateEmailTemplate">updateEmailTemplate</a></span>
					</div>
					<p>This method is used to update an already existing email template</p>
					
					<h3>Required Parameters</h3>
					<table class="table table-bordered table-striped">
						<thead>
							<th>Parameter Name</th>
							<th>Type</th>
							<th>Definition</th>
						</thead>
						<tbody>
							<tr>
								<td>privateKey</td>
								<td>string</td>
								<td>Your Infusionsoft API key</td>
							</tr>
							<tr>
								<td>templateId</td>
								<td>string</td>
								<td>The Id number of the email template you would like to update</td>
							</tr>
							<tr>
								<td>pieceTitle</td>
								<td>string</td>
								<td>The title/name of this template. This is the internal name, not visible to customers</td>
							</tr>
							<tr>
								<td>category</td>
								<td>string</td>
								<td>The category you would like to save this template in</td>
							</tr>
							<tr>
								<td>fromAddress</td>
								<td>string</td>
								<td>The email address this template will be sent from. Format: "First Last"</td>
							</tr>
							<tr>
								<td>toAddress</td>
								<td>string</td>
								<td>The email address this template will send to. This is typically the merge field "~Contact.Email~"</td>
							</tr>
							<tr>
								<td>ccAddress</td>
								<td>string</td>
								<td>The email address(es) this template will carbon copy. Multiples separated by comma</td>
							</tr>
							<tr>
								<td>bccAddresses</td>
								<td>string</td>
								<td>The email address(es) this template will blind carbon copy. Multiples separated by comma</td>
							</tr>
							<tr>
								<td>subject</td>
								<td>string</td>
								<td>The subject line of this email</td>
							</tr>
							<tr>
								<td>textBody</td>
								<td>string</td>
								<td>The content of the plain text body of this template</td>
							</tr>
							<tr>
								<td>htmlBody</td>
								<td>string</td>
								<td>The HTML content the body of this email is comprised of</td>
							</tr>
							<tr>
								<td>contentType</td>
								<td>string</td>
								<td>HTML, text, or multipart (this is case sensitive)</td>
							</tr>
							<tr>
								<td>mergeContext</td>
								<td>string</td>
								<td>Contact, Opportunity, Invoice, or CreditCard (this is typically Contact)</td>
							</tr>
						</tbody>
					</table>
					
					<h3>Returns</h3>
					<p>Return: (boolean) True/False</p>
					
					<h3>Sample Request</h3>
					<pre class="prettyprint">
</pre>

					<h3>Sample Response</h3>
					<pre class="prettyprint">
</pre>
	
					<h3>PHP iSDK Sample</h3>
					<p>This method is not currently built into the iSDK</p>
					
					
				</div>
			</div>
		</div>
	</body>
</html>